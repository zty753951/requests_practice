

# import requests
from bs4 import BeautifulSoup
import urllib
import time
import pandas as pd







if __name__=='__main__':


    card_ID_list=['352100199410140110','371400199410140110','652300199410140110','210700199410140110','360100199410140110','330700199410140110','451300199410140110','654000199410140110','220300199410140110','352600199410140110','511100199410140110','142200199410140110','231000199410140110','460300199410140110','220100199410140110','229000199410140110','150600199410140110','522700199410140110','320400199410140110','431100199410140110','452800199410140110','359000199410140110','152700199410140110','652800199410140110','342100199410140110','452300199410140110','142300199410140110','149000199410140110','422800199410140110','542500199410140110','379000199410140110','410800199410140110','610300199410140110','620300199410140110','372300199410140110','150100199410140110','410200199410140110','442000199410140110','610500199410140110','620500199410140110','431300199410140110','610700199410140110','342900199410140110','512900199410140110','341600199410140110','210900199410140110','430600199410140110','450400199410140110','360500199410140110','469000199410140110','362300199410140110','230600199410140110','510100199410140110','441400199410140110','331000199410140110','410300199410140110','620400199410140110','441700199410140110','511900199410140110','232600199410140110','230500199410140110','630100199410140110','370500199410140110','332400199410140110','430400199410140110','340200199410140110','360400199410140110','130200199410140110','420500199410140110','342600199410140110','350500199410140110','210400199410140110','512000199410140110','132500199410140110','222300199410140110','131000199410140110','532200199410140110','512500199410140110','320600199410140110','232500199410140110','520200199410140110','440600199410140110','640300199410140110','152200199410140110','450100199410140110','411600199410140110','340400199410140110','132600199410140110','640100199410140110','452500199410140110','210800199410140110','371200199410140110','500200199410140110','652500199410140110','432800199410140110','150500199410140110','321300199410140110','341300199410140110','632800199410140110','371000199410140110','120100199410140110','211400199410140110','622100199410140110','330200199410140110','410700199410140110','140200199410140110','623000199410140110','321100199410140110','440300199410140110','410400199410140110','130400199410140110','440100199410140110','510900199410140110','513900199410140110','622300199410140110','342200199410140110','522400199410140110','430800199410140110','640200199410140110','132900199410140110','130100199410140110','412900199410140110','422400199410140110','522100199410140110','140700199410140110','330300199410140110','210300199410140110','622800199410140110','340800199410140110','231200199410140110','510500199410140110','350400199410140110','510300199410140110','411100199410140110','411200199410140110','230900199410140110','532600199410140110','650300199410140110','653000199410140110','152800199410140110','450900199410140110','430100199410140110','342500199410140110','350200199410140110','132200199410140110','530300199410140110','130800199410140110','330100199410140110','370400199410140110','NULL','152100199410140110','450300199410140110','211300199410140110','370800199410140110','340700199410140110','420800199410140110','150400199410140110','432400199410140110','230200199410140110','140800199410140110','341000199410140110','652200199410140110','441800199410140110','513100199410140110','422700199410140110','533000199410140110','130500199410140110','420300199410140110','140300199410140110','152500199410140110','341200199410140110','220600199410140110','632300199410140110','441300199410140110','430200199410140110','219000199410140110','150700199410140110','422600199410140110','130600199410140110','410600199410140110','512300199410140110','442800199410140110','440200199410140110','430900199410140110','141000199410140110','452200199410140110','142600199410140110','370600199410140110','520100199410140110','420200199410140110','622900199410140110','450600199410140110','620600199410140110','360700199410140110','460100199410140110','442500199410140110','360200199410140110','370900199410140110','371300199410140110','142700199410140110','432300199410140110','533300199410140110','430500199410140110','320900199410140110','231100199410140110','511500199410140110','330600199410140110','440700199410140110','130900199410140110','610400199410140110','612600199410140110','350700199410140110','332500199410140110','429000199410140110','654100199410140110','513500199410140110','522200199410140110','133000199410140110','653200199410140110','320300199410140110','339000199410140110','340300199410140110','331100199410140110','140100199410140110','450500199410140110','421000199410140110','530400199410140110','370100199410140110','360800199410140110','132100199410140110','330500199410140110','130700199410140110','350300199410140110','220700199410140110','321200199410140110','511200199410140110','530900199410140110','360300199410140110','224000199410140110','532100199410140110','441500199410140110','422200199410140110','452600199410140110','413000199410140110','642100199410140110','350800199410140110','362500199410140110','232300199410140110','320800199410140110','452100199410140110','211200199410140110','420700199410140110','230100199410140110','652100199410140110','361000199410140110','131100199410140110','533500199410140110','132800199410140110','150300199410140110','411500199410140110','341500199410140110','412700199410140110','431200199410140110','542300199410140110','420900199410140110','410100199410140110','622400199410140110','612100199410140110','340100199410140110','621000199410140110','441900199410140110','150800199410140110','132300199410140110','642200199410140110','341700199410140110','530600199410140110','232100199410140110','440400199410140110','350100199410140110','450200199410140110','412300199410140110','433000199410140110','422300199410140110','310100199410140110','362100199410140110','421300199410140110','500100199410140110','120200199410140110','411300199410140110','522600199410140110','632200199410140110','210200199410140110','321000199410140110','610200199410140110','510200199410140110','620200199410140110','510800199410140110','451000199410140110','230300199410140110','439000199410140110','532900199410140110','513200199410140110','513800199410140110','372500199410140110','653100199410140110','659000199410140110','140600199410140110','362400199410140110','520400199410140110','513400199410140110','421200199410140110','610600199410140110','371600199410140110','513700199410140110','540100199410140110','110200199410140110','350600199410140110','511400199410140110','220800199410140110','431000199410140110','432500199410140110','632500199410140110','621200199410140110','342400199410140110','360600199410140110','650200199410140110','510700199410140110','340600199410140110','450700199410140110','513300199410140110','140900199410140110','410900199410140110','420600199410140110','342700199410140110','372800199410140110','430700199410140110','511300199410140110','411000199410140110','239000199410140110','360900199410140110','522500199410140110','445100199410140110','440800199410140110','441200199410140110','532300199410140110','510400199410140110','622700199410140110','143200199410140110','230800199410140110','445300199410140110','533400199410140110','370300199410140110','420100199410140110','330400199410140110','320700199410140110','460200199410140110','622600199410140110','432900199410140110','612300199410140110','450000199410140110','533100199410140110','350900199410140110','610100199410140110','210600199410140110','142100199410140110','211000199410140110','342800199410140110','320500199410140110','452700199410140110','612500199410140110','140400199410140110','340500199410140110','141100199410140110','530800199410140110','412800199410140110','320200199410140110','652700199410140110','612700199410140110','130300199410140110','361100199410140110','612400199410140110','140500199410140110','152600199410140110','352200199410140110','371100199410140110','362200199410140110','232700199410140110','372400199410140110','332100199410140110','622200199410140110','220400199410140110','150200199410140110','150900199410140110','110100199410140110','640500199410140110','230400199410140110','222400199410140110','330800199410140110','532700199410140110','654200199410140110','513600199410140110','132400199410140110','530100199410140110','650100199410140110','152300199410140110','440500199410140110','511600199410140110','370700199410140110','341100199410140110','532500199410140110','430300199410140110','519000199410140110','142400199410140110','371500199410140110','210500199410140110','230700199410140110','652400199410140110','632600199410140110','411700199410140110','410500199410140110','510600199410140110','421100199410140110','411400199410140110','342300199410140110','632100199410140110','652900199410140110','500300199410140110','620100199410140110','532800199410140110','440900199410140110','445200199410140110','532400199410140110','441600199410140110','220200199410140110','372900199410140110','434200199410140110','310200199410140110','522300199410140110','211100199410140110','320100199410140110','452400199410140110','432600199410140110','460000199410140110','420400199410140110','422100199410140110','332600199410140110','419000199410140110','210100199410140110','450800199410140110','654300199410140110','220500199410140110','621100199410140110','512200199410140110','513000199410140110','330900199410140110','370200199410140110','530500199410140110','152900199410140110','511000199410140110','433100199410140110','533200199410140110','640400199410140110']
    ordernum_list=[]
    otherStyleTime_list=[]

    for shenqingrenNum in card_ID_list:
        data={
        'action': 'idcard',
        'userid': shenqingrenNum,
        'B1': '(unable to decode value)'
            }

        head="http://qq.ip138.com/idsearch/index.asp?action=idcard&userid="
        end="&B1=%B2%E9+%D1%AF"


        url=head+shenqingrenNum+end

        login_url="http://qq.ip138.com/idsearch/index.asp?action=idcard&userid=360100199410140110&B1=%B2%E9+%D1%AF"
        header = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.87 Safari/537.36',
            'Referer': 'http://qq.ip138.com/idsearch/index.asp?action=idcard&userid=360100199410140110&B1=%B2%E9+%D1%AF',
            'Cookie': 'ASPSESSIONIDASSCSBBQ=PKCBCKABHNPJOEKAIOCCLAJP; pgv_pvi=7491662848; pgv_si=s448566272'
        }

        file=urllib.request.urlopen(url)

        # session_requests = requests.session()
        # result = session_requests.post(
        #     url,
        #     # data=data,
        #     headers=header
        # )
        #
        # soup = BeautifulSoup(result.content)
        # request_result=str(soup)

        print(file.read())


    #     #处理进件编号
    #     start_ordernum=request_result.find('ordernum')
    #     end_ordernum=request_result.find('OrderTime')
    #     ordernum=request_result[start_ordernum+len('ordernum')+3:end_ordernum-3]
    #     print("进件编号为：",ordernum)
    #     ordernum_list.append(ordernum)
    #
    #     #处理进件时间
    #     end_OrderTime= request_result.find('ProID')
    #     OrderTime=request_result[end_ordernum+len('OrderTime')+10:end_OrderTime-6]
    #     timeStamp = int(OrderTime[:-3])
    #     timeArray = time.localtime(timeStamp)
    #     otherStyleTime = time.strftime("%Y-%m-%d %H:%M:%S", timeArray)
    #     print("进件时间为：",otherStyleTime)
    #     otherStyleTime_list.append(otherStyleTime)
    #
    #
    # END_RESULT=pd.DataFrame({"ID_CARD":card_ID_list,"ordernum":ordernum_list,"otherStyleTime":otherStyleTime_list})
    # END_RESULT.to_excel("D:/black_list.xls")
    # print(END_RESULT)

